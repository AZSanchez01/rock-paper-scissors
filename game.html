<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        //Get Computer Choice Function
        function getComputerChoice () {
            let ran = Math.floor(Math.random()*3);
            if (ran == 0) {
                ran = 'Rock';
            }
            else if (ran == 1) {
                ran = 'Paper';
            }
            else {
                ran = 'Scissors';
            }
            return ran;
        }

        //Get Human Choice Function
        function getHumanChoice () {
            let move = prompt('Choose your move! (Rock/Paper/Scissors): ').toLowerCase();
            move = move.charAt(0).toUpperCase() + move.substr(1);

            if (move == 'Rock' || move == 'Paper' || move == 'Scissors') {
                return move;
            }
            return 'Invalid Move! Try again.';
        }

        //Simulate a Round
        function playRound (humanChoice, computerChoice) {

            //If Draw
            if (humanChoice == computerChoice) {
                return console.log('Draw!');
            }
            // If Human Wins
            else if ((humanChoice == 'Rock' && computerChoice == 'Scissors')
                  || (humanChoice == 'Scissors' && computerChoice == 'Paper')
                  || (humanChoice == 'Paper' && computerChoice == 'Rock')) {
                    console.log(`You Win! ${humanChoice} beats ${computerChoice}!`);
                    return 'human';                   
                }
            //If Computer Wins
            else {
                console.log(`You Lose! ${computerChoice} beats ${humanChoice}!`);
                return 'computer';
            }
        }

        function playGame () {

            //Score Tally Initialization
            let computerScore = 0;
            let humanScore = 0;

            //Play for Five Rounds
            for (let i = 0; i < 5; i++) {

                //Play round & Repeat human prompt if initial input is invalid
                let humanChoice = getHumanChoice();
                while (humanChoice == 'Invalid Move! Try again.') {
                    humanChoice = getHumanChoice();
                }
                let computerChoice = getComputerChoice();
                console.log(`Computer Choice: ${computerChoice}   Your Choice: ${humanChoice}`);
                let result = playRound(humanChoice, computerChoice);
                    
                //Return Result & Increment Score
                if (result == 'human') {
                    humanScore++;
                }
                else if (result == 'computer') {
                    computerScore++;
                }
            }

            //Print Total Score Tally and Winner
            console.log(`Computer Score: ${computerScore}   Your Score: ${humanScore}`);
            if (computerScore > humanScore) {
                console.log('Computer Wins!');
            }
            else if (computerScore < humanScore) {
                console.log('You Win!');
            }
            else {
                console.log('Draw!');
            }
            
        }

        playGame();

    </script>
</body>
</html>